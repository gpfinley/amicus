# Word counter
# Will count instances of only purely alphanumeric tokens from the BioMedICUS tokenizer.
# Case insensitive

!!edu.umn.amicus.config.AmicusPipelineConfiguration
pipelineName: BioMedICUS lower case word counter pipeline

allSystemsUsed:
- {
    name: biomedicus,
    dataPath: example_data/mtsamples_biomedicus,
    readFromView: SystemView,
    saveIntoView: BiomedicusView
  }
xmiOutPath: example_data/xmi_out

pipelineComponents:

- !!edu.umn.amicus.config.TranslatorConfig
  name: lowercaser
  input: {
    annotationType: edu.umn.biomedicus.uima.type1_6.Token,
    annotationField: coveredText,
    fromView: BiomedicusView
  }
  filterPattern: "[0-9A-z]+"
  mappers:
    - edu.umn.amicus.mappers.ToLowerCaseMapper
  outputs:
    - {writeView: BiomedicusLowerView}

- !!edu.umn.amicus.config.SummarizerConfig
  name: Token count summarizer
  summaryWriter: edu.umn.amicus.summary.CounterSummaryWriter
  input: {fromView: BiomedicusLowerView}
# Comment out the following line to display token counts rather than save to a text file
  outPath: token_counts.txt
